(()=>{var e={};e.id=504,e.ids=[504],e.modules={176:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6444,23)),Promise.resolve().then(r.t.bind(r,6042,23)),Promise.resolve().then(r.t.bind(r,8170,23)),Promise.resolve().then(r.t.bind(r,9477,23)),Promise.resolve().then(r.t.bind(r,9345,23)),Promise.resolve().then(r.t.bind(r,2089,23)),Promise.resolve().then(r.t.bind(r,6577,23)),Promise.resolve().then(r.t.bind(r,1307,23))},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1731:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/mhmdal/Projects/polling-next/polling-next/app/poll/results/[pollId]/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/mhmdal/Projects/polling-next/polling-next/app/poll/results/[pollId]/page.tsx","default")},2704:()=>{},2873:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=r(5239),o=r(8088),l=r(8170),n=r.n(l),i=r(893),a={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(a[e]=()=>i[e]);r.d(t,a);let d={children:["",{children:["poll",{children:["results",{children:["[pollId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1731)),"/home/mhmdal/Projects/polling-next/polling-next/app/poll/results/[pollId]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,6862)),"/home/mhmdal/Projects/polling-next/polling-next/app/poll/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,8014)),"/home/mhmdal/Projects/polling-next/polling-next/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/mhmdal/Projects/polling-next/polling-next/app/poll/results/[pollId]/page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/poll/results/[pollId]/page",pathname:"/poll/results/[pollId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3326:(e,t,r)=>{Promise.resolve().then(r.bind(r,7434))},3590:(e,t,r)=>{Promise.resolve().then(r.bind(r,1731))},3821:(e,t,r)=>{Promise.resolve().then(r.bind(r,6862))},3873:e=>{"use strict";e.exports=require("path")},4708:(e,t,r)=>{"use strict";r.d(t,{x:()=>s});let s={getUserId:()=>"",hasCreatedPolls:()=>!1,setHasCreatedPolls(){},clearHasCreatedPolls(){}}},5396:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(687);function o({children:e}){return(0,s.jsx)("div",{children:e})}},6055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(1658);let o=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},6189:(e,t,r)=>{"use strict";var s=r(5773);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},6862:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/mhmdal/Projects/polling-next/polling-next/app/poll/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/mhmdal/Projects/polling-next/polling-next/app/poll/layout.tsx","default")},7434:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(687);r(8665),r(4708);var o=r(3210);function l({pollId:e}){let[t,r]=(0,o.useState)(null),[l,n]=(0,o.useState)(""),[i,a]=(0,o.useState)(!0),[d,c]=(0,o.useState)(""),[p,m]=(0,o.useState)(!1),u=(e,t)=>{navigator.clipboard.writeText(e).then(()=>{c(`${t} copied to clipboard!`),setTimeout(()=>c(""),2e3)}).catch(()=>{c("Failed to copy to clipboard"),setTimeout(()=>c(""),2e3)})};if(i)return(0,s.jsx)("div",{className:"min-h-screen py-8",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",backgroundAttachment:"fixed"},children:(0,s.jsx)("div",{className:"max-w-4xl mx-auto px-4",children:(0,s.jsx)("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl shadow-lg border p-8",children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,s.jsxs)("svg",{className:"animate-spin h-8 w-8 text-blue-600 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading poll results..."})]})})})});if(!t?.poll)return(0,s.jsx)("div",{className:"min-h-screen py-8",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",backgroundAttachment:"fixed"},children:(0,s.jsx)("div",{className:"max-w-4xl mx-auto px-4",children:(0,s.jsx)("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl shadow-lg border p-8",children:(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"❌"}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Poll not found"}),(0,s.jsx)("p",{className:"text-gray-600",children:"The poll you're looking for doesn't exist or has been removed."})]})})})});let h=t?.poll.options.reduce((e,t)=>e+(t.votes||0),0),x=t?.submissionCount||0;return(0,s.jsxs)("div",{className:"min-h-screen py-8",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",backgroundAttachment:"fixed"},children:[(0,s.jsx)("div",{className:"max-w-4xl mx-auto px-4",children:(0,s.jsxs)("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl shadow-lg border p-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t?.poll.question}),(0,s.jsx)("p",{className:"text-gray-600",children:"Poll Results"}),(0,s.jsxs)("div",{className:"flex items-center justify-center gap-4 mt-4 text-sm text-gray-500",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),x," submissions"]}),(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),h," total votes"]})]})]}),(0,s.jsx)("div",{className:"space-y-4 mb-8",children:t?.poll.options.map((e,r)=>{let o=h>0?e.votes/h*100:0,l=e.votes>0&&e.votes===Math.max(...t?.poll.options.map(e=>e.votes));return(0,s.jsxs)("div",{className:`relative p-4 rounded-lg border-2 transition-all ${l&&h>0?"border-green-300 bg-green-50":"border-gray-200 bg-gray-50"}`,children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900",children:e.name}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[l&&h>0&&(0,s.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-600",children:[e.votes," votes (",o.toFixed(1),"%)"]})]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,s.jsx)("div",{className:`h-3 rounded-full transition-all duration-500 ${l&&h>0?"bg-green-500":"bg-blue-500"}`,style:{width:`${o}%`}})})]},e.id||r)})}),(0,s.jsx)("div",{className:"border-t pt-6",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Share this poll"}),(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2 bg-gray-50 rounded-lg p-4 border",children:[(0,s.jsx)("code",{className:"text-sm font-mono text-gray-700 flex-1 min-w-0 truncate",children:`${window.location.origin}/poll/submit/${t?.poll.id}`}),(0,s.jsx)("button",{onClick:()=>u(`${window.location.origin}/poll/submit/${t?.poll.id}`,"Poll link"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded font-medium transition-colors whitespace-nowrap",title:"Copy poll link",children:"Copy Link"})]})]})}),p&&(0,s.jsx)("div",{className:"mt-8 pt-6 border-t text-center",children:(0,s.jsx)("button",{onClick:()=>window.location.href="/poll",className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors font-medium",children:"← Back to My Polls"})}),l&&(0,s.jsx)("div",{className:"mt-6 p-4 rounded-lg bg-red-50 border border-red-200",children:(0,s.jsx)("p",{className:"text-center font-medium text-red-800",children:l})})]})}),d&&(0,s.jsx)("div",{className:"fixed bottom-4 right-4 bg-gray-800 text-white px-4 py-2 rounded-lg shadow-lg z-50 animate-in slide-in-from-bottom-2 fade-in duration-200",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("svg",{className:"w-4 h-4 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),d]})})]})}var n=r(6189);function i(){let e=Number((0,n.useParams)().pollId);return(0,s.jsx)(l,{pollId:e})}},7767:()=>{},8014:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,metadata:()=>a});var s=r(7413),o=r(6389),l=r.n(o),n=r(1189),i=r.n(n);r(2704);let a={title:"PollApp - Create and Share Polls Instantly",description:"Create beautiful polls, collect responses, and view real-time results. Simple, fast, and free."};function d({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:`${l().variable} ${i().variable} antialiased`,children:e})})}},8665:(e,t,r)=>{"use strict";r.d(t,{Gi:()=>l,gU:()=>n,AF:()=>i,Ps:()=>a,Oi:()=>d});var s=r(4708);let o="http://34.18.142.59:8080";async function l(e){let t=await fetch(`${o}/createPoll`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,createdBy:s.x.getUserId()})});if(!t.ok)throw Error("Failed to create poll");return await t.json()}async function n(e){let t=await fetch(`${o}/getPoll/${e}/${s.x.getUserId()}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("Failed to create poll");return await t.json()}async function i(e){let t=await fetch(`${o}/getPollResults/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});return await t.json()}async function a(){let e=await fetch(`${o}/getPolls/${s.x.getUserId()}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Failed to create poll");return await e.json()}async function d(e){let t=await fetch(`${o}/submitPoll/${s.x.getUserId()}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to submit poll");return await t.json()}},9085:(e,t,r)=>{Promise.resolve().then(r.bind(r,5396))},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9519:()=>{},9551:e=>{"use strict";e.exports=require("url")},9904:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6346,23)),Promise.resolve().then(r.t.bind(r,7924,23)),Promise.resolve().then(r.t.bind(r,5656,23)),Promise.resolve().then(r.t.bind(r,99,23)),Promise.resolve().then(r.t.bind(r,8243,23)),Promise.resolve().then(r.t.bind(r,8827,23)),Promise.resolve().then(r.t.bind(r,2763,23)),Promise.resolve().then(r.t.bind(r,7173,23))}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,985,658],()=>r(2873));module.exports=s})();